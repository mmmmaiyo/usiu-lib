<!DOCTYPE html>

<!-- 
  Theme Name: Enlight
  Theme URL: https://probootstrap.com/enlight-free-education-responsive-bootstrap-website-template
  Author: ProBootstrap.com
  Author URL: https://probootstrap.com
  License: Released for free under the Creative Commons Attribution 3.0 license (probootstrap.com/license)
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>USIU-Africa Library & Information Centre</title>
    
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,700|Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="css/styles-merged.css">
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="css/custom.css">

    <!--[if lt IE 9]>
      <script src="js/vendor/html5shiv.min.js"></script>
      <script src="js/vendor/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <div class="pbs-search" id="pbs-search">
      <a href="#" class="pbs-close js-pbs-close"><i class="icon-cross"></i></a>
      <form action="#">
        <input type="search" name="s" id="search" placeholder="Search a keyword and hit enter...">
      </form>
    </div>
    
    <div class="pbs-page-wrapper">
      <!-- Fixed navbar -->
      
      <div class="pbs-header-top">
        <div class="container">
          <div class="row">
            <div class="col-lg-9 col-md-9 col-sm-9 pbs-top-quick-contact-info">
              <span><i class="icon-location2"></i>USIU Road, Off Thika Road (Exit 7)</span>
              <span><i class="icon-phone2"></i>+254 730 116690</span>
              <span><i class="icon-mail"></i>askalibrarian@usiu.ac.ke</span>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-3 pbs-top-social">
              <ul>
                <li><a href="https://twitter.com/UsiuLibrary"><i class="icon-twitter"></i></a></li>
                <li><a href="https://www.facebook.com/usiulibrary/"><i class="icon-facebook2"></i></a></li>
                <li><a href="#" class="pbs-search-icon js-pbs-search"><i class="icon-search"></i></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <nav class="navbar navbar-default pbs-navbar">
        <div class="container">
          <div class="navbar-header">
            <div class="btn-more js-btn-more visible-xs">
              <a href="#"><i class="icon-dots-three-vertical "></i></a>
            </div>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html" title="USIU-A Library"><img src="/img/usiu_400.jpg" id="usiu_logo"></a>
          </div>

          <div id="navbar-collapse" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="index.html">Home</a></li>
              <li class="dropdown">
                <a href="#" data-toggle="dropdown" class="dropdown-toggle">Browse</a>
                <ul class="dropdown-menu">
                  <li><a href="resources.html">eResources</a></li>
                  <li><a href="newspapers.html">eNewspapers</a></li>
                </ul>
              </li>
              <li><a href="about-us.html">About Us</a></li>
              <li><a href="events.html">Events</a></li>
              <li class="active"><a href="contact.html">Contact</a></li>
            </ul>
          </div>
        </div>
      </nav>
      
      <section class="pbs-section pbs-section-colored">
        <div class="container">
          <div class="row">
            <div class="col-md-12 text-left section-heading pbs-animate">
              <h1 class="mb0">Contact Us</h1>
            </div>
          </div>
        </div>
      </section>

      <section class="pbs-section pbs-section-sm">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="row pbs-gutter0">
                <div class="col-md-4" id="pbs-sidebar">
                  <div class="pbs-sidebar-inner pbs-overlap pbs-animate">
                    <h3>Pages</h3>
                    <ul class="pbs-side-menu">
                      <li><a href="" id="addBook">Add Book(s)</a></li>
                      <li><a href="" id="addUser">Add User(s)</a></li>
                    </ul>
                  </div>
                </div>
                <div class="col-md-7 col-md-push-1  pbs-animate add-book" id="pbs-content">
                  <h2>Add Books</h2>
                  <form id="adder" action="#" method="post" class="pbs-form">
                    <div class="form-group">
                      <label for="name">Title</label>
                      <input type="text" class="form-control" id="title" name="name">
                    </div>
                    <div class="form-group">
                      <label for="email">Author</label>
                      <input type="text" class="form-control" id="author" name="email">
                    </div>
                    <div class="form-group">
                      <label for="message">Description</label>
                      <textarea cols="30" rows="10" class="form-control" id="description" name="message"></textarea>
                    </div>
                    <div class="form-group">
                      <input type="submit" class="btn btn-primary btn-lg" id="submit" name="submit" value="Submit">
                    </div>
                  </form>
                </div>
                <div class="col-md-7 col-md-push-1  pbs-animate add-user" id="pbs-content">
                  <h2>Add User</h2>
                  <form id="register" action="#" method="post" class="pbs-form">
                    <div class="form-group">
                      <label for="name">First Name</label>
                      <input type="text" class="form-control" id="first-name">
                    </div>
                    <div class="form-group">
                      <label for="email">Last Name</label>
                      <input type="text" class="form-control" id="last-name">
                    </div>
                    <div class="form-group">
                      <label for="message">Username</label>
                      <input type="text" class="form-control" id="user-name">
                    </div>
                    <div class="form-group">
                      <label for="message">Password</label>
                      <input type="text" class="form-control" id="pass-word">
                    </div>
                    <div class="form-group">
                      <input type="submit" class="btn btn-primary btn-lg" id="submit" name="submit" value="Submit">
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <!-- END wrapper -->
    

    <script src="js/scripts.min.js"></script>
    <script src="js/main.min.js"></script>
    <script src="js/custom.js"></script>
    <script>
      const add_book = document.getElementsByClassName('add-book')[0];
      const add_user = document.getElementsByClassName('add-user')[0];
      const addBook = document.getElementById('addBook');
      const addUser = document.getElementById('addUser');      

      add_book.style.display = 'none';
      add_user.style.display = 'none';

      addBook.addEventListener('click', function (e) {
        e.preventDefault();
        add_book.style.visibility = 'visible';
        add_book.style.display = 'initial'
        add_user.style.display = 'none';
      });

      addUser.addEventListener('click', function (e) {
        e.preventDefault();
        add_user.style.visibility = 'visible';
        add_user.style.display = 'initial'
        add_book.style.display = 'none';
      });
    </script>
    <script>
      var adder = document.getElementById('adder');
      adder.addEventListener('submit', function (e) {
        // Prevent the form from submitting normally
        e.preventDefault();

        var title = document.getElementById('title');
        var author = document.getElementById('author');
        var description = document.getElementById('description');

        // Create a new XMLHttpRequest object
        var xhr = new XMLHttpRequest();

        // Configure the request
        xhr.open('POST', 'http://localhost:8080/users/books', true);
        xhr.setRequestHeader('Content-Type', 'application/json');

        // Set up a handler for when the request finishes
        xhr.onload = function () {
          if (xhr.status === 200) {
            alert('Book Added Successfully.');
          } else {
            alert('An error occurred!');
            console.error('An error occurred:', xhr.responseText);
          }
        };

          // Send the request with the username and password as JSON
        xhr.send(JSON.stringify({
          title: title.value,
          author: author.value,
          description: description.value
        }));
        
        adder.reset();
      });
    </script> 
    <script>
      const register = document.getElementById('register');

      register.addEventListener('submit', function(e) {
        e.preventDefault();

        //Get user values
        var first_name = document.getElementById('first-name');
        var last_name = document.getElementById('last-name');
        var user_name = document.getElementById('user-name');
        var pass_word = document.getElementById('pass-word');

        // Create a new XMLHttpRequest object
        var xhr = new XMLHttpRequest();

        // Configure the request
        xhr.open('POST', 'http://localhost:8080/users/register', true);
        xhr.setRequestHeader('Content-Type', 'application/json');

        xhr.onload = function () {
          if (xhr.status === 200) {
            alert('User Registered Successfully.');
          } else {
            alert('An error occurred!');
            console.error('An error occurred:', xhr.responseText);
          }
        };

        xhr.send(JSON.stringify({
          firstName: first_name.value,
          lastName: last_name.value,
          username: user_name.value,
          password: pass_word.value
        }));

        first_name.reset();
        last_name.reset();
        user_name.reset();
        pass_word.reset();
      });
    </script>

  </body>
</html>